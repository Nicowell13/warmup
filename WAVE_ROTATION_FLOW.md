# Wave Rotation - Visual Flow Diagram

## ğŸ¯ Campaign Flow dengan Wave Rotation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Campaign Start                            â”‚
â”‚                 (User triggers via API)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          OLD Blast (Initial Messages)                        â”‚
â”‚  â€¢ OLD-1 â†’ NEW-2, NEW-3 (first message each)               â”‚
â”‚  â€¢ OLD-2 â†’ NEW-4, NEW-5 (first message each)               â”‚
â”‚  â€¢ OLD-3 â†’ NEW-6, NEW-7 (first message each)               â”‚
â”‚  â€¢ Sets initial chat progress                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Generate All Wave Tasks Upfront                     â”‚
â”‚  â€¢ Calculate rotation for each wave                         â”‚
â”‚  â€¢ Create tasks for 3 days per wave                         â”‚
â”‚  â€¢ Schedule pairing resets between waves                    â”‚
â”‚  â€¢ Total tasks: waves Ã— 288 (for 2 NEW/OLD)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”
â•‘                      WAVE 1 START                            â•‘
â•‘                    (Day 1 - Day 3)                           â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  Pairing Map (initial):                                      â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â•‘
â•‘  â”‚ NEW-2 â†’ OLD-1 (628xxx@c.us)                     â”‚        â•‘
â•‘  â”‚ NEW-3 â†’ OLD-1 (628xxx@c.us)                     â”‚        â•‘
â•‘  â”‚ NEW-4 â†’ OLD-2 (628yyy@c.us)                     â”‚        â•‘
â•‘  â”‚ NEW-5 â†’ OLD-2 (628yyy@c.us)                     â”‚        â•‘
â•‘  â”‚ NEW-6 â†’ OLD-3 (628zzz@c.us)                     â”‚        â•‘
â•‘  â”‚ NEW-7 â†’ OLD-3 (628zzz@c.us)                     â”‚        â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â•‘
â•‘                                                               â•‘
â•‘  Day 1-3 (08:00 - 22:00):                                    â•‘
â•‘    Tasks jalan terus dalam window sesuai delay yang dihitung â•‘
â•‘    untuk menghabiskan total 24 round/pair selama 3 hari.     â•‘
â•‘                                                               â•‘
â•‘  âœ… Wave 1 Complete: 288 tasks executed                     â•‘
â•‘     Each pair exchanged 24 (OLD) + 24 (NEW)                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         â”‚
                         â”‚ Gap: 1 hour
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ğŸŒŠ Wave 2 Pairing Reset Task Executes               â”‚
â”‚  â€¢ Scheduler detects kind='wa12-wave-reset'                 â”‚
â”‚  â€¢ Updates pairing map with new rotation                    â”‚
â”‚  â€¢ Logs: "ğŸŒŠ Wave 2 pairing reset"                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”
â•‘                      WAVE 2 START                            â•‘
â•‘                   (Day 4 - Day 6)                            â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  Pairing Map (rotated):                                      â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â•‘
â•‘  â”‚ NEW-2 â†’ OLD-3 (628zzz@c.us)  â† Changed!         â”‚        â•‘
â•‘  â”‚ NEW-3 â†’ OLD-3 (628zzz@c.us)  â† Changed!         â”‚        â•‘
â•‘  â”‚ NEW-4 â†’ OLD-1 (628xxx@c.us)  â† Changed!         â”‚        â•‘
â•‘  â”‚ NEW-5 â†’ OLD-1 (628xxx@c.us)  â† Changed!         â”‚        â•‘
â•‘  â”‚ NEW-6 â†’ OLD-2 (628yyy@c.us)  â† Changed!         â”‚        â•‘
â•‘  â”‚ NEW-7 â†’ OLD-2 (628yyy@c.us)  â† Changed!         â”‚        â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â•‘
â•‘                                                               â•‘
â•‘  Day 4-6: Same pattern, 24 messages per pair                â•‘
â•‘  âœ… Wave 2 Complete: 288 tasks executed                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         â”‚
                         â”‚ Gap: 1 hour
                         â–¼
â”Œâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”
â•‘                      WAVE 3 START                            â•‘
â•‘                   (Day 7 - Day 9)                            â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  Pairing Map (rotated again):                                â•‘
â•‘  â€¢ NEW-2,3 now with OLD-2                                   â•‘
â•‘  â€¢ NEW-4,5 now with OLD-3                                   â•‘
â•‘  â€¢ NEW-6,7 now with OLD-1                                   â•‘
â•‘                                                               â•‘
â•‘  âœ… Wave 3 Complete: 288 tasks executed                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         â”‚
                         â–¼
                      ... etc

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Campaign Complete                            â”‚
â”‚  â€¢ All waves executed                                        â”‚
â”‚  â€¢ Each NEW chatted with ALL OLD sessions                   â”‚
â”‚  â€¢ Total duration: 3 OLD Ã— 3 days = 9 days                  â”‚
â”‚  â€¢ Remove NEW auto-reply suppression                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Rotation Formula Visualization

### Example: 5 OLD, 10 NEW (2 NEW per OLD)

```
Initial Assignment (Wave 1):
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OLD  â”‚   NEW Targets    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ OLD1 â”‚ NEW-2, NEW-3     â”‚
â”‚ OLD2 â”‚ NEW-4, NEW-5     â”‚
â”‚ OLD3 â”‚ NEW-6, NEW-7     â”‚
â”‚ OLD4 â”‚ NEW-8, NEW-9     â”‚
â”‚ OLD5 â”‚ NEW-10, NEW-11   â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Rotation Formula: sourceIdx = (currentIdx + waveIndex) % totalOLD

Wave 1 (waveIndex=0):
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OLD  â”‚ OldIdx â”‚ SourceIdx       â”‚   Gets Targets   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ OLD1 â”‚   0    â”‚ (0+0)%5 = 0     â”‚ NEW-2, NEW-3     â”‚
â”‚ OLD2 â”‚   1    â”‚ (1+0)%5 = 1     â”‚ NEW-4, NEW-5     â”‚
â”‚ OLD3 â”‚   2    â”‚ (2+0)%5 = 2     â”‚ NEW-6, NEW-7     â”‚
â”‚ OLD4 â”‚   3    â”‚ (3+0)%5 = 3     â”‚ NEW-8, NEW-9     â”‚
â”‚ OLD5 â”‚   4    â”‚ (4+0)%5 = 4     â”‚ NEW-10, NEW-11   â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Wave 2 (waveIndex=1):
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OLD  â”‚ OldIdx â”‚ SourceIdx       â”‚   Gets Targets   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ OLD1 â”‚   0    â”‚ (0+1)%5 = 1     â”‚ NEW-4, NEW-5  âŸ²  â”‚
â”‚ OLD2 â”‚   1    â”‚ (1+1)%5 = 2     â”‚ NEW-6, NEW-7  âŸ²  â”‚
â”‚ OLD3 â”‚   2    â”‚ (2+1)%5 = 3     â”‚ NEW-8, NEW-9  âŸ²  â”‚
â”‚ OLD4 â”‚   3    â”‚ (3+1)%5 = 4     â”‚ NEW-10, NEW-11âŸ²  â”‚
â”‚ OLD5 â”‚   4    â”‚ (4+1)%5 = 0     â”‚ NEW-2, NEW-3  âŸ²  â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Wave 3 (waveIndex=2):
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OLD  â”‚ OldIdx â”‚ SourceIdx       â”‚   Gets Targets   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ OLD1 â”‚   0    â”‚ (0+2)%5 = 2     â”‚ NEW-6, NEW-7  âŸ²  â”‚
â”‚ OLD2 â”‚   1    â”‚ (1+2)%5 = 3     â”‚ NEW-8, NEW-9  âŸ²  â”‚
â”‚ OLD3 â”‚   2    â”‚ (2+2)%5 = 4     â”‚ NEW-10, NEW-11âŸ²  â”‚
â”‚ OLD4 â”‚   3    â”‚ (3+2)%5 = 0     â”‚ NEW-2, NEW-3  âŸ²  â”‚
â”‚ OLD5 â”‚   4    â”‚ (4+2)%5 = 1     â”‚ NEW-4, NEW-5  âŸ²  â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

... continues for Wave 4 and Wave 5

Result: After 5 waves, each NEW has chatted with ALL 5 OLD sessions!
```

## ğŸ“Š Task Scheduling Timeline

```
Timeline View (3 OLD, 6 NEW, 3 waves):

Day 1  |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| Wave 1: 8 rounds Ã— 6 pairs Ã— 2 msg = 96 tasks
Day 2  |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| Wave 1: 96 tasks
Day 3  |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| Wave 1: 96 tasks
       |â”€ Gap (1 hour) â”€|
Day 4  |ğŸŒŠ Reset + Start | Wave 2: Pairing update + 96 tasks
Day 5  |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| Wave 2: 96 tasks
Day 6  |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| Wave 2: 96 tasks
       |â”€ Gap (1 hour) â”€|
Day 7  |ğŸŒŠ Reset + Start | Wave 3: Pairing update + 96 tasks
Day 8  |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| Wave 3: 96 tasks
Day 9  |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| Wave 3: 96 tasks

Legend:
â–ˆâ–ˆâ–ˆâ–ˆ = Message tasks executing within window (08:00-22:00)
ğŸŒŠ = Wave pairing reset task
â”€ = Gap between waves (1 hour)
```

## ğŸ­ Conversation Pattern Visualization

```
NEW-2 Conversation History:

Wave 1 (Day 1-3):
â”œâ”€ OLD-1: Halo! (Day 1, 08:14)
â”œâ”€ NEW-2: Hi juga! (Day 1, 08:45)
â”œâ”€ OLD-1: Apa kabar? (Day 1, 09:16)
â”œâ”€ NEW-2: Baik! (Day 1, 09:47)
...
â””â”€ [24 exchanges with OLD-1]

Wave 2 (Day 4-6):
â”œâ”€ OLD-2: Halo! (Day 4, 08:00)  â† Different OLD!
â”œâ”€ NEW-2: Hai! (Day 4, 08:31)
â”œâ”€ OLD-2: Gimana? (Day 4, 09:02)
...
â””â”€ [24 exchanges with OLD-2]

Wave 3 (Day 7-9):
â”œâ”€ OLD-3: Hey! (Day 7, 08:00)  â† Different OLD again!
â”œâ”€ NEW-2: Halo! (Day 7, 08:31)
...
â””â”€ [24 exchanges with OLD-3]

Result: NEW-2 has natural conversation with 3 different people!
        Looks like a real community member interacting with various contacts.
```

## ğŸ” Scheduler Execution Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Scheduler Polls Every 15 Seconds            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
                   Get Due Tasks
              (dueAt <= now, limit 10)
                         â”‚
                         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                  â”‚
        â–¼                                  â–¼
  wa12-wave-reset                   script-next
  (Pairing Update)                  (Send Message)
        â”‚                                  â”‚
        â–¼                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Update Pairing Map   â”‚       â”‚ Get Session Script   â”‚
â”‚ db.replaceNewPairingsâ”‚       â”‚ Pick Next Line       â”‚
â”‚ Log: ğŸŒŠ Wave X reset â”‚       â”‚ Send Message (WAHA)  â”‚
â”‚ Mark as 'sent'       â”‚       â”‚ Update Progress      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ Mark as 'sent'       â”‚
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
                                  Log: ğŸ“¤ OLD/NEW â†’ chat
```

## ğŸ“ˆ Metrics & Analytics

```
Campaign Dashboard View:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Campaign: Wave Prod - 5 OLD Ã— 10 NEW                       â”‚
â”‚  Status: Running (Wave 2 of 5)                              â”‚
â”‚  Started: 2026-01-06 08:14                                  â”‚
â”‚  ETA Complete: 2026-01-20 22:00 (15 days)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Overall Progress:                                           â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 40% (576/1440 tasks)                   â”‚
â”‚                                                              â”‚
â”‚  By Wave:                                                    â”‚
â”‚  Wave 1: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (288/288) âœ…                     â”‚
â”‚  Wave 2: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  65% (188/288) â³                     â”‚
â”‚  Wave 3: â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   0% (0/288)   â¸                     â”‚
â”‚  Wave 4: â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   0% (0/288)   â¸                     â”‚
â”‚  Wave 5: â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   0% (0/288)   â¸                     â”‚
â”‚                                                              â”‚
â”‚  Status Breakdown:                                           â”‚
â”‚  âœ… Sent:    576                                            â”‚
â”‚  â³ Pending: 860                                            â”‚
â”‚  âŒ Error:   4 (0.7%)                                       â”‚
â”‚                                                              â”‚
â”‚  Next Task: 2026-01-11 14:23 (in 2h 15m)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Per-OLD Performance:

â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OLD  â”‚ Sent  â”‚ Pending â”‚ Error â”‚ Success %  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ OLD1 â”‚  115  â”‚   173   â”‚   0   â”‚  100.0%    â”‚
â”‚ OLD2 â”‚  116  â”‚   172   â”‚   0   â”‚  100.0%    â”‚
â”‚ OLD3 â”‚  114  â”‚   173   â”‚   1   â”‚   99.1%    â”‚
â”‚ OLD4 â”‚  116  â”‚   171   â”‚   1   â”‚   99.1%    â”‚
â”‚ OLD5 â”‚  115  â”‚   171   â”‚   2   â”‚   98.3%    â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Recent Activity (Last 5 Tasks):
  14:20 - âœ… OLD old-2 â†’ 628444@c.us
  14:18 - âœ… NEW new-5 â†’ 628xxx@c.us
  14:16 - âœ… OLD old-2 â†’ 628333@c.us
  14:14 - âœ… NEW new-4 â†’ 628xxx@c.us
  14:12 - ğŸŒŠ Wave 2 pairing reset (10 NEW updated)
```

---

**Visual guide created to help understand wave rotation flow**  
**For implementation details, see WAVE_ROTATION_GUIDE.md**
